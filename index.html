<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Hanzi Quiz</title>
    <link href="https://api.fontshare.com/v2/css?f[]=satoshi@700,500,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="dark-mode">

    <div class="main-container">
        <div class="screen-wrapper">
            <div id="main-menu-screen" class="screen active" tabindex="-1">
                <h1>Modern Hanzi Quiz</h1>
                <p style="margin-top: -1rem; margin-bottom: 2.5rem; opacity: 0.8;">Test your Chinese vocabulary knowledge.</p>
                <div class="menu-grid">
                    <button class="action-btn primary-button" id="start-new-quiz-btn">Start New Quiz</button>
                    <button class="action-btn" id="settings-btn">Settings</button>
                    <button class="action-btn" id="about-btn">About</button>
                </div>
            </div>

            <div id="quiz-settings-screen" class="screen" tabindex="-1">
                <h2>Quiz Setup</h2>
                <div class="setup-container">
                    <div class="setup-column-left">
                        <div class="selection-group">
                            <h3>HSK Level</h3>
                            <label class="selection-option"><input type="checkbox" name="hsk-level" value="1" checked><span>HSK 1</span></label>
                            <label class="selection-option"><input type="checkbox" name="hsk-level" value="2"><span>HSK 2</span></label>
                            <label class="selection-option"><input type="checkbox" name="hsk-level" value="3"><span>HSK 3</span></label>
                            <label class="selection-option"><input type="checkbox" name="hsk-level" value="4"><span>HSK 4</span></label>
                            <label class="selection-option"><input type="checkbox" name="hsk-level" value="5"><span>HSK 5</span></label>
                        </div>
                    </div>
                    <div class="setup-column-right">
                        <div class="selection-group">
                            <h3>Questions</h3>
                            <label class="selection-option"><input type="radio" name="quantity" value="20" checked><span>20</span></label>
                            <label class="selection-option"><input type="radio" name="quantity" value="40"><span>40</span></label>
                            <label class="selection-option"><input type="radio" name="quantity" value="all"><span>All</span></label>
                        </div>
                        <div class="selection-group">
                            <h3>Options</h3>
                            <label class="selection-option toggle-option">
                                <span>Show Pinyin</span>
                                <label class="switch"><input type="checkbox" id="pinyin-toggle" checked><span class="slider"></span></label>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="quiz-setup-actions">
                    <button id="back-to-main-from-quiz-setup-btn" class="action-btn">Back to Main Menu</button>
                    <button id="start-quiz-btn" class="action-btn primary-button">Start Quiz</button>
                </div>
            </div>

            <div id="quiz-container" class="screen" tabindex="-1">
                <div id="hanzi-display"></div>
                <div id="pinyin-display"></div>
                <div id="feedback"></div>
                <div id="options-container">
                    <button class="action-btn option-btn" style="--option-index:0;"></button>
                    <button class="action-btn option-btn" style="--option-index:1;"></button>
                    <button class="action-btn option-btn" style="--option-index:2;"></button>
                    <button class="action-btn option-btn" style="--option-index:3;"></button>
                </div>
                <div id="score-container"></div>
                <div id="quiz-controls-footer">
                    <button class="footer-btn" id="end-quiz-btn">End Quiz</button>
                </div>
            </div>

            <div id="settings-screen" class="screen" tabindex="-1">
                <h2>Settings</h2>
                <div class="selection-group" style="max-width: 400px; margin: 0 auto;">
                    <label class="selection-option toggle-option">
                        <span>Dark Mode</span>
                        <label class="switch"><input type="checkbox" id="dark-mode-toggle" checked><span class="slider"></span></label>
                    </label>
                </div>
                <div class="menu-grid" style="margin-top: 2rem;">
                    <button class="action-btn" id="back-to-main-from-settings-btn">Back to Main Menu</button>
                </div>
            </div>

            <div id="results-screen" class="screen" tabindex="-1">
                <h2>Quiz Results</h2>
                <div class="stats-grid">
                    <div class="stat-item"><h3>Score</h3><p id="final-score">0 / 0</p></div>
                    <div class="stat-item"><h3>Accuracy</h3><p id="final-accuracy">0%</p></div>
                    <div class="stat-item"><h3>Time Taken</h3><p id="final-time">0m 0s</p></div>
                </div>
                <h3>Review Your Answers:</h3>
                <div id="results-list-container"></div>
                <div id="results-actions">
                    <button id="play-again-btn" class="action-btn primary-button">Play Again</button>
                    <button id="new-quiz-from-results-btn" class="action-btn">New Quiz</button>
                    <button id="back-to-main-from-results-btn" class="action-btn">Main Menu</button>
                </div>
            </div>
        </div>
    </div>

    <div id="about-modal" class="modal-overlay" aria-hidden="true" tabindex="-1">
        <div id="about-modal-content" class="modal-content">
            <h2>About this App</h2>
            <p>Created by Robin Sipos. For questions or feedback, please get in touch.</p>
            <p><strong>Email:</strong> <a href="mailto:robinsiposw@gmail.com">robinsiposw@gmail.com</a></p>
            <button id="close-about-btn" class="action-btn primary-button" style="margin-top: 1rem;">Close</button>
        </div>
    </div>

    <div id="hint-window" class="modal-overlay" aria-hidden="true" tabindex="-1">
         <div class="modal-content">
            <h3>Hint</h3>
            <p id="hint-explanation"></p>
            <p id="fun-fact"></p>
            <button id="close-hint-btn" class="action-btn primary-button">Next Question</button>
        </div>
    </div>

    <div id="confirm-quit-modal" class="modal-overlay" aria-hidden="true" tabindex="-1">
        <div class="modal-content">
            <h2>Confirm Quit</h2>
            <p>Are you sure you want to end the current quiz? Your progress will be lost.</p>
            <div class="modal-actions">
                <button id="cancel-quit-btn" class="action-btn">Cancel</button>
                <button id="confirm-quit-btn" class="action-btn danger-button">End Quiz</button>
            </div>
        </div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>
</html>